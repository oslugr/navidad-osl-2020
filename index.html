<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSL - Felicitación navidad</title>

    <!-- Semantic UI -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script src="src/semantic/dropdown.min.js"></script>

    <link rel="stylesheet" type="text/css" href="style/main.css">
    <link rel="stylesheet" type="text/css" href="style/semantic/dropdown.min.css">
    
</head>

<body onresize="nuevoTamanoPorDefectoStickers()">
        
        <!-- División en dos columnas -->
        <div id="main" class="ui two column doubling grid">

            <!-- Zona para botones y sticker -->
            <div class="column" id="columna-1">

                <!-- Advertencia para mostrar que no siempre se  -->
                <div id="warning" class="ui green icon message attached">
                    <i class="lock icon"></i>
                    <div class="content">
                    <div class="header">
                        Estás seguro con nosotros
                    </div>
                    <p>
                        La imagen que uses no se almacenará en nuestros servidores, toda la aplicación se ejecutara en tu dispositivo.
                    </p></div>
                </div>

                <!-- Botón para subir imágenes -->
                <label for="img-subida" id="boton-sup" class="fluid ui labeled icon button">
                    <i class="upload icon"></i>
                    Pulsa aquí para subir tu imagen
                </label>
                <input type="file" accept="image/*" id="img-subida" name="img-subida" onchange="mostrarImagen(this);" onclick="confirmarDescartarFoto();" style="display:none">

                <!-- Grid con los stickers -->
                <h4 class="ui horizontal divider header">
                    Stickers
                </h4>

                <div id="grid-stickers">
                    <div class="row">
                        <a class="col-1 slider-control" href="#multi-item-example" role="button" data-slide="prev">
                            <div class="carousel-control-prev-icon" aria-hidden="true"></div>
                        </a>
                        
                        <div class="col-10">
                            <div id="multi-item-example" class="carousel slide" data-interval="false">

                                <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <div class="row">
                                            <div class="col-3 sticker-click" onclick="cambiarEstado(this,0);">
                                                <img src="stickers/arbol.png" class="sticker-img" alt="">
                                            </div>
                                
                                            <div class="col-3 sticker-click" onclick="cambiarEstado(this,1);">
                                                <img src="stickers/bola.png" class="sticker-img" alt="">
                                            </div>
                                
                                            <div class="col-3 sticker-click" onclick="cambiarEstado(this,2);">
                                                <img src="stickers/copo.png" class="sticker-img" alt="">
                                            </div>
                                            
                                            <div class="col-3 sticker-click" onclick="cambiarEstado(this,3);">
                                                <img src="stickers/galleta.png" class="sticker-img" alt="">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="carousel-item">
                                        <div class="row">
                                            <div class="col-3 sticker-click" onclick="cambiarEstado(this,4);">
                                                <img src="stickers/gato.png" class="sticker-img" alt="">
                                            </div>
                                
                                            <div class="col-3 sticker-click" onclick="cambiarEstado(this,5);">
                                                <img src="stickers/gorro.png" class="sticker-img" alt="">
                                            </div>
                                
                                            <div class="col-3 sticker-click" onclick="cambiarEstado(this,6);">
                                                <img src="stickers/hoja.png" class="sticker-img" alt="">
                                            </div>
                                            
                                            <div class="col-3 sticker-click" onclick="cambiarEstado(this,7);">
                                                <img src="stickers/merry.png" class="sticker-img" alt="">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="carousel-item">
                                        <div class="row">
                                            <div class="col-3 sticker-click" onclick="cambiarEstado(this,8);">
                                                <img src="stickers/piruleta.png" class="sticker-img" alt="">
                                            </div>
                                
                                            <div class="col-3 sticker-click" onclick="cambiarEstado(this,9);">
                                                <img src="stickers/regalo.png" class="sticker-img" alt="">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <a class="col-1 slider-control" href="#multi-item-example" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        </a>
                    </div>
                </div>
                

                <!-- Slider para cambiar el tamaño del sticker -->
                <h4 class="ui horizontal divider header">
                    Tamaño
                </h4>

                <div id="slider-div">
                    <input type="range" min="1" max="100" value="50" id="slider" onchange="cambiarTamano(this.value)" oninput="cambiarTamano(this.value)">
                </div>

                <h4 class="ui horizontal divider header">
                    Dedicatoria
                </h4>

                <!-- <div class="ui fluid input" id="dedicatoria">
                </div> -->
                <div class="ui form">
                    <div class="field" id="dedicatoria">
                        <textarea rows="2" placeholder="Introduce la dedicatoria " oninput="cambiarDedicatoria(this);"></textarea>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-6">
                        <div class="ui fluid selection dropdown seleccion-texto" id="tipo-letra">
                            <div class="text"></div>
                            <i class="dropdown icon"></i>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="ui fluid selection dropdown seleccion-texto" id="color-letra">
                            <input type="hidden" name="user">
                            <i class="dropdown icon"></i>
                            <div class="default text">Select Friend</div>
                            <div class="menu">
                                <div class="item selected" data-value="black">
                                    <div class="ui black empty circular label"></div>
                                    Negro
                                </div>
                                <div class="item" data-value="white">
                                    <div class="ui white empty circular label"></div>
                                    Blanco
                                </div>
                                <div class="item" data-value="yellow">
                                    <div class="ui yellow empty circular label"></div>
                                    Amarillo
                                </div>
                                <div class="item" data-value="blue">
                                    <div class="ui blue empty circular label"></div>
                                    Azul
                                </div>
                                <div class="item" data-value="red">
                                    <div class="ui red empty circular label"></div>
                                    Rojo
                                </div>
                                <div class="item" data-value="green">
                                    <div class="ui green empty circular label"></div>
                                    Verde
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Botón para descargar imágenes -->
                <div class="fluid ui labeled icon button" onclick="descargar()">
                    <i class="download icon"></i>
                    Pulsa aquí para descargar la imagen
                </div>
            </div>

            <!-- Zona para canvas -->
            <div class="column">
                <canvas id="resultado">
                    Aquí verás tu imagen
                </canvas>
            </div>

            
        </div>

    <script src="src/stickers.js"></script>
    <script src="src/index.js"></script>
    <script>
        $('#tipo-letra')
            .dropdown({
                values: [
                {
                    name: 'Arial',
                    value: 'Arial',
                    selected: true
                },
                {
                    name     : 'Sans-serif',
                    value    : 'sans-serif',
                },
                {
                    name     : 'Helvetica',
                    value    : 'Helvetica',
                },
                {
                    name     : 'Times New Roman',
                    value    : 'Times New Roman',
                },
                {
                    name     : 'Gill Sans',
                    value    : 'Gill Sans',
                }
                ],
                onChange: cambiarFuente
            })
        ;

        $('#color-letra').dropdown({
            onChange: cambiarColor
        });
        $('#color-letra').dropdown('set selected', 'black');

    </script>
</body>

</html>